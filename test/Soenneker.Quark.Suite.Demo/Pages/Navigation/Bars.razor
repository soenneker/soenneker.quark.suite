@page "/navigation/bars"
@using Microsoft.Extensions.Logging

@inject ILogger<Index> Logger

<Container Padding="Padding.Is4.OnY">
    <Row>
        <Column>
            <Div TextAlignment="TextAlignment.Center" Margin="Margin.Is5.FromEnd">
                <H1 Class="display-4" FontWeight="FontWeight.Bold" TextColor="TextColor.Primary">Bars</H1>
                <Paragraph Class="lead" TextColor="TextColor.Muted">This page demonstrates some of the common usages for the bars library.</Paragraph>
            </Div>
        </Column>
    </Row>

    <Row Gap="Gap.Is4">
        <Column>
            <Div>
                <Div>
                    <H2>Basic Navigation Bar</H2>
                    <Bar BackgroundColor="@BackgroundColor.Light">
                        <BarBrand To="#">Navbar</BarBrand>
                        <BarToggler Target="#navbarNav"/>
                        <BarMenu Id="navbarNav">
                            <BarItem>
                                <BarLink To="#" Active="true">Home</BarLink>
                            </BarItem>
                            <BarItem>
                                <BarLink To="#">Features</BarLink>
                            </BarItem>
                            <BarItem>
                                <BarLink To="#">Pricing</BarLink>
                            </BarItem>
                            <BarItem>
                                <BarLink To="#" Disabled="true">Disabled</BarLink>
                            </BarItem>
                        </BarMenu>
                    </Bar>
                </Div>

                <Hr/>

                <Div>
                    <H2>Bar Alignment (New)</H2>
                    <Paragraph TextColor="TextColor.Muted" Margin="Margin.Is3.FromBottom">Demonstrates the new Alignment property for controlling item alignment within the bar.</Paragraph>

                    <H4>Start Alignment (Default)</H4>
                    <Bar BackgroundColor="@BackgroundColor.Light" Alignment="Alignment.Start">
                        <BarBrand To="#">Start</BarBrand>
                        <BarMenu>
                            <BarItem>
                                <BarLink To="#">Home</BarLink>
                            </BarItem>
                            <BarItem>
                                <BarLink To="#">About</BarLink>
                            </BarItem>
                        </BarMenu>
                    </Bar>

                    <Div Margin="Margin.Is3.FromTop">
                        <H4>Center Alignment</H4>
                        <Bar BackgroundColor="@BackgroundColor.Light" Alignment="Alignment.Center">
                            <BarBrand To="#">Center</BarBrand>
                            <BarMenu>
                                <BarItem>
                                    <BarLink To="#">Home</BarLink>
                                </BarItem>
                                <BarItem>
                                    <BarLink To="#">About</BarLink>
                                </BarItem>
                            </BarMenu>
                        </Bar>
                    </Div>

                    <Div Margin="Margin.Is3.FromTop">
                        <H4>End Alignment</H4>
                        <Bar BackgroundColor="@BackgroundColor.Light" Alignment="Alignment.End">
                            <BarBrand To="#">End</BarBrand>
                            <BarMenu>
                                <BarItem>
                                    <BarLink To="#">Home</BarLink>
                                </BarItem>
                                <BarItem>
                                    <BarLink To="#">About</BarLink>
                                </BarItem>
                            </BarMenu>
                        </Bar>
                    </Div>
                </Div>

                <Hr/>

                <Div>
                    <H2>Dark Navigation Bar</H2>
                    <Bar BackgroundColor="@BackgroundColor.Dark" Dark="true">
                        <BarBrand To="#">Dark Navbar</BarBrand>
                        <BarToggler Target="#navbarNav2"/>
                        <BarMenu Id="navbarNav2">
                            <BarItem>
                                <BarLink To="#" Active="true">Home</BarLink>
                            </BarItem>
                            <BarItem>
                                <BarLink To="#">About</BarLink>
                            </BarItem>
                            <BarItem>
                                <BarLink To="#">Contact</BarLink>
                            </BarItem>
                            <BarMenu Right="true">
                                <BarItem>
                                    <BarLink To="#">Login</BarLink>
                                </BarItem>
                            </BarMenu>
                        </BarMenu>
                    </Bar>
                </Div>

                <Hr/>

                <Div>
                    <H2>Transparent Navigation Bar</H2>
                    <Bar BackgroundColor="@BackgroundColor.Primary" Transparent="true">
                        <BarBrand To="#">Transparent</BarBrand>
                        <BarMenu>
                            <BarItem>
                                <BarLink To="#">Home</BarLink>
                            </BarItem>
                            <BarItem>
                                <BarLink To="#">Services</BarLink>
                            </BarItem>
                            <BarItem>
                                <BarLink To="#">Portfolio</BarLink>
                            </BarItem>
                        </BarMenu>
                    </Bar>
                </Div>

                <Hr/>

                <Div>
                    <H2>Fixed Top Navigation Bar</H2>
                    <Bar BackgroundColor="@BackgroundColor.Success" Placement="@BarPlacement.Fixed">
                        <BarBrand To="#">Fixed Top</BarBrand>
                        <BarMenu>
                            <BarItem>
                                <BarLink To="#">Dashboard</BarLink>
                            </BarItem>
                            <BarItem>
                                <BarLink To="#">Reports</BarLink>
                            </BarItem>
                            <BarItem>
                                <BarLink To="#">Settings</BarLink>
                            </BarItem>
                        </BarMenu>
                    </Bar>
                    <Div Style="height: 200px; background-color: #f8f9fa; margin-top: 60px; padding: 20px;">
                        <Paragraph>Content below fixed navbar</Paragraph>
                    </Div>
                </Div>

                <Hr/>

                <Div>
                    <H2>Sticky Navigation Bar</H2>
                    <Bar BackgroundColor="@BackgroundColor.Warning" Placement="@BarPlacement.Sticky">
                        <BarBrand To="#">Sticky</BarBrand>
                        <BarMenu>
                            <BarItem>
                                <BarLink To="#">Products</BarLink>
                            </BarItem>
                            <BarItem>
                                <BarLink To="#">Solutions</BarLink>
                            </BarItem>
                            <BarItem>
                                <BarLink To="#">Support</BarLink>
                            </BarItem>
                        </BarMenu>
                    </Bar>
                    <Div Style="height: 200px; background-color: #e9ecef; padding: 20px;">
                        <Paragraph>Content that scrolls with sticky navbar</Paragraph>
                    </Div>
                </Div>

                <Hr/>

                <Div>
                    <H2>Vertical Sidebar Navigation</H2>
                    <Paragraph TextColor="TextColor.Muted" Margin="Margin.Is3.FromBottom">Demonstrates vertical bar mode with BarEnd positioned at the bottom.</Paragraph>
                    
                    <Div Style="display: flex; height: 500px; border: 1px solid #dee2e6;">
                        <Bar Mode="BarMode.VerticalInline" BackgroundColor="@BackgroundColor.Light">
                            <BarToggler />
                            <BarBrand>
                                <BarItem>
                                    <BarLink To="#">My App</BarLink>
                                </BarItem>
                            </BarBrand>
                            <BarMenu>
                                <BarStart>
                                    <BarItem>
                                        <BarLink To="#" Active="true">
                                            <BarIcon Name="fa-house" IconStyle="IconStyle.Solid" Class="fa-fw" />
                                            Dashboard
                                        </BarLink>
                                    </BarItem>
                                    <BarItem>
                                        <BarLink To="#">
                                            <BarIcon Name="fa-users" IconStyle="IconStyle.Solid" Class="fa-fw" />
                                            Users
                                        </BarLink>
                                    </BarItem>
                                    <BarItem>
                                        <BarLink To="#">
                                            <BarIcon Name="fa-chart-line" IconStyle="IconStyle.Solid" Class="fa-fw" />
                                            Analytics
                                        </BarLink>
                                    </BarItem>
                                    <BarItem>
                                        <BarLink To="#">
                                            <BarIcon Name="fa-gear" IconStyle="IconStyle.Solid" Class="fa-fw" />
                                            Settings
                                        </BarLink>
                                    </BarItem>
                                    <BarItem>
                                        <BarDropdown>
                                            <BarDropdownToggle>
                                                <BarIcon Name="fa-chevron-down" IconStyle="IconStyle.Solid" Class="fa-fw" />
                                                More Options
                                            </BarDropdownToggle>
                                            <BarDropdownMenu>
                                                <BarDropdownItem To="#">Option 1</BarDropdownItem>
                                                <BarDropdownItem To="#">Option 2</BarDropdownItem>
                                                <BarDropdownItem To="#">Option 3</BarDropdownItem>
                                            </BarDropdownMenu>
                                        </BarDropdown>
                                    </BarItem>
                                </BarStart>
                                <BarEnd>
                                    <BarItem>
                                        <BarDropdown>
                                            <BarDropdownMenu Border="Border.Is1">
                                                <BarDropdownItem To="#" Padding="Padding.Is3.FromStart">
                                                    <BarIcon Name="fa-user" IconStyle="IconStyle.Solid" Margin="Margin.Is2.FromEnd" />
                                                    Profile
                                                </BarDropdownItem>
                                                <BarDropdownItem To="#" Padding="Padding.Is3.FromStart">
                                                    <BarIcon Name="fa-arrow-right-from-bracket" IconStyle="IconStyle.Solid" Margin="Margin.Is2.FromEnd" />
                                                    Log out
                                                </BarDropdownItem>
                                            </BarDropdownMenu>
                                            <BarDropdownToggle Class="d-flex align-items-center">
                                                <BarIcon Name="fa-circle-user" IconStyle="IconStyle.Regular" Margin="Margin.Is2.FromEnd" />
                                                User Name
                                            </BarDropdownToggle>
                                        </BarDropdown>
                                    </BarItem>
                                </BarEnd>
                            </BarMenu>
                        </Bar>
                        <Div Style="flex: 1; padding: 20px; background-color: #f8f9fa;">
                            <H3>Main Content Area</H3>
                            <Paragraph>
                                This demonstrates a vertical sidebar with the user dropdown pushed to the bottom using BarEnd.
                                The BarStart section contains the main navigation items and grows to fill available space,
                                while the BarEnd section is automatically positioned at the bottom of the sidebar.
                            </Paragraph>
                            <Paragraph TextColor="TextColor.Muted">
                                Notice how the user dropdown stays at the bottom regardless of the number of navigation items above it.
                            </Paragraph>
                        </Div>
                    </Div>
                </Div>

                <Hr Margin="Margin.Is4.OnY" />

                <Div>
                    <H2>Collapsible Vertical Bar</H2>
                    <Paragraph TextColor="TextColor.Muted" Margin="Margin.Is3.FromBottom">Vertical bar with small collapse mode that can be toggled.</Paragraph>
                    
                    <Div Style="display: flex; height: 500px; border: 1px solid #dee2e6;">
                        <Bar Mode="BarMode.VerticalInline" 
                             CollapseMode="BarCollapseMode.Small" 
                             BackgroundColor="@BackgroundColor.Light"
                             @bind-Visible="_sidebarVisible">
                            <BarToggler />
                            @if (_sidebarVisible)
                            {
                                <BarBrand>
                                    <BarItem>
                                        <BarLink To="#">Brand</BarLink>
                                    </BarItem>
                                </BarBrand>
                            }
                            <BarMenu>
                                <BarStart>
                                    <BarItem>
                                        <BarLink To="#">
                                            <BarIcon Name="fa-inbox" IconStyle="IconStyle.Solid" Class="fa-fw" />
                                            Inbox
                                        </BarLink>
                                    </BarItem>
                                    <BarItem>
                                        <BarLink To="#">
                                            <BarIcon Name="fa-folder" IconStyle="IconStyle.Solid" Class="fa-fw" />
                                            Files
                                        </BarLink>
                                    </BarItem>
                                    <BarItem>
                                        <BarLink To="#">
                                            <BarIcon Name="fa-calendar" IconStyle="IconStyle.Solid" Class="fa-fw" />
                                            Calendar
                                        </BarLink>
                                    </BarItem>
                                </BarStart>
                                <BarEnd>
                                    <BarItem>
                                        <BarDropdown>
                                            <BarDropdownMenu Border="Border.Is1">
                                                <BarDropdownItem To="#">Settings</BarDropdownItem>
                                                <BarDropdownItem To="#">Help</BarDropdownItem>
                                                <BarDropdownItem To="#">Sign Out</BarDropdownItem>
                                            </BarDropdownMenu>
                                            <BarDropdownToggle>
                                                <BarIcon Name="fa-ellipsis-vertical" IconStyle="IconStyle.Solid" />
                                                @if (_sidebarVisible)
                                                {
                                                    <Text>Menu</Text>
                                                }
                                            </BarDropdownToggle>
                                        </BarDropdown>
                                    </BarItem>
                                </BarEnd>
                            </BarMenu>
                        </Bar>
                        <Div Style="flex: 1; padding: 20px; background-color: #f8f9fa;">
                            <H3>Collapsible Sidebar Demo</H3>
                            <Paragraph>
                                Click the hamburger icon in the sidebar to toggle between expanded and collapsed states.
                                The BarEnd section remains at the bottom in both states.
                            </Paragraph>
                        </Div>
                    </Div>
                </Div>
            </Div>
        </Column>
    </Row>
</Container>

@code {
    private bool _sidebarVisible = true;

    protected override void OnInitialized()
    {
        Logger.LogInformation("Bars demo page initialized");
    }

}