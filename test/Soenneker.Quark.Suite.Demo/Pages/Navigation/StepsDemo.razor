@page "/navigation/stepsdemo"

<Container Padding="Padding.Is4.OnY">
<Row>
    <Column>
        <Div TextAlignment="TextAlignment.Center" Margin="Margin.Is5.FromEnd">
            <H1 DisplaySize="DisplaySize.Is4" FontWeight="FontWeight.Bold" TextColor="TextColor.Primary">Steps</H1>
            <Paragraph Class="lead" TextColor="TextColor.Muted">This page demonstrates the Steps component for multi-step processes and workflows.</Paragraph>
        </Div>
    </Column>
</Row>

<Row Gap="Gap.Is4">
<Column>
<Div>
    <H2>Basic Steps</H2>
    <Div Margin="Margin.Is3.FromEnd">
        <Steps @ref="_basicStepsRef" @bind-SelectedStep="_currentStep">
            <Step Name="step1">
                <StepMarker>
                    <Span>1</Span>
                </StepMarker>
                <StepCaption>
                    <Div Class="step-title">Step 1</Div>
                </StepCaption>
            </Step>
            <Step Name="step2">
                <StepMarker>
                    <Span>2</Span>
                </StepMarker>
                <StepCaption>
                    <Div Class="step-title">Step 2</Div>
                </StepCaption>
            </Step>
            <Step Name="step3">
                <StepMarker>
                    <Span>3</Span>
                </StepMarker>
                <StepCaption>
                    <Div Class="step-title">Step 3</Div>
                </StepCaption>
            </Step>

            <StepContent>
                <StepPanel Name="step1">
                    <Paragraph>This is the content for step 1.</Paragraph>
                    <Paragraph>You can put any content here, including forms, text, or other components.</Paragraph>
                </StepPanel>
                <StepPanel Name="step2">
                    <Paragraph>This is the content for step 2.</Paragraph>
                    <Paragraph>Each step can have different content and functionality.</Paragraph>
                </StepPanel>
                <StepPanel Name="step3">
                    <Paragraph>This is the content for step 3.</Paragraph>
                    <Paragraph>This is the final step in the process.</Paragraph>
                </StepPanel>
            </StepContent>
        </Steps>

        <Div Margin="Margin.Is3.FromTop">
            <Button BackgroundColor="@BackgroundColor.Primary" OnClick="PreviousStep">Previous</Button>
            <Button BackgroundColor="@BackgroundColor.Success" OnClick="NextStep" Margin="Margin.Is2.FromStart">Next</Button>
            <Text Margin="Margin.Is3.FromStart">Current Step: @_currentStep</Text>
        </Div>
    </Div>
    <Paragraph TextColor="TextColor.Muted">The Steps component provides a guided multi-step process interface.</Paragraph>
</Div>

<Hr/>

<Div>
    <H2>Steps with Validation</H2>
    <Div Margin="Margin.Is3.FromEnd">
        <Steps @ref="_validationStepsRef" @bind-SelectedStep="_currentValidationStep">
            <Step Name="personal">
                <StepMarker>
                    <Span>1</Span>
                </StepMarker>
                <StepCaption>
                    <Div Class="step-title">Personal Information</Div>
                </StepCaption>
            </Step>
            <Step Name="contact">
                <StepMarker>
                    <Span>2</Span>
                </StepMarker>
                <StepCaption>
                    <Div Class="step-title">Contact Information</Div>
                </StepCaption>
            </Step>
            <Step Name="review">
                <StepMarker>
                    <Span>3</Span>
                </StepMarker>
                <StepCaption>
                    <Div Class="step-title">Review & Submit</Div>
                </StepCaption>
            </Step>

            <StepContent>
                <StepPanel Name="personal">
                    <Div Margin="Margin.Is3.FromBottom">
                        <Label For="firstName" Form="true">First Name</Label>
                        <TextEdit Id="firstName" @bind-Value="_personalInfo.FirstName"/>
                    </Div>
                    <Div Margin="Margin.Is3.FromBottom">
                        <Label For="lastName" Form="true">Last Name</Label>
                        <TextEdit Id="lastName" @bind-Value="_personalInfo.LastName"/>
                    </Div>
                </StepPanel>
                <StepPanel Name="contact">
                    <Div Margin="Margin.Is3.FromBottom">
                        <Label For="email" Form="true">Email</Label>
                        <TextEdit Id="email" Type="email" @bind-Value="_personalInfo.Email"/>
                    </Div>
                    <Div Margin="Margin.Is3.FromBottom">
                        <Label For="phone" Form="true">Phone</Label>
                        <TextEdit Id="phone" Type="tel" @bind-Value="_personalInfo.Phone"/>
                    </Div>
                </StepPanel>
                <StepPanel Name="review">
                    <H4>Review Your Information</H4>
                    <Paragraph>
                        <Strong>Name:</Strong> @_personalInfo.FirstName @_personalInfo.LastName
                    </Paragraph>
                    <Paragraph>
                        <Strong>Email:</Strong> @_personalInfo.Email
                    </Paragraph>
                    <Paragraph>
                        <Strong>Phone:</Strong> @_personalInfo.Phone
                    </Paragraph>

                    <Div Margin="Margin.Is3.FromTop">
                        <Button BackgroundColor="@BackgroundColor.Success" OnClick="SubmitForm">Submit</Button>
                    </Div>
                </StepPanel>
            </StepContent>
        </Steps>

        <Div Margin="Margin.Is3.FromTop">
            <Button BackgroundColor="@BackgroundColor.Secondary" OnClick="PreviousValidationStep">Previous</Button>
            <Button BackgroundColor="@BackgroundColor.Primary" OnClick="NextValidationStep" Margin="Margin.Is2.FromStart">Next</Button>
        </Div>
    </Div>
</Div>

<Hr/>

<Div>
    <H2>Steps with Custom Content</H2>
    <Div Margin="Margin.Is3.FromEnd">
        <Steps @ref="_styledStepsRef" @bind-SelectedStep="_currentStyledStep">
            <Step Name="design">
                <StepMarker>
                    <Span>ðŸŽ¨</Span>
                </StepMarker>
                <StepCaption>
                    <Div Class="step-title">Design</Div>
                </StepCaption>
            </Step>
            <Step Name="develop">
                <StepMarker>
                    <Span>ðŸ’»</Span>
                </StepMarker>
                <StepCaption>
                    <Div Class="step-title">Development</Div>
                </StepCaption>
            </Step>
            <Step Name="test">
                <StepMarker>
                    <Span>ðŸ§ª</Span>
                </StepMarker>
                <StepCaption>
                    <Div Class="step-title">Testing</Div>
                </StepCaption>
            </Step>
            <Step Name="deploy">
                <StepMarker>
                    <Span>ðŸš€</Span>
                </StepMarker>
                <StepCaption>
                    <Div Class="step-title">Deployment</Div>
                </StepCaption>
            </Step>

            <StepContent>
                <StepPanel Name="design">
                    <H4 TextColor="TextColor.Primary">Design Phase</H4>
                    <Paragraph>Create the visual design and user interface.</Paragraph>
                    <UnorderedList>
                        <UnorderedListItem>Wireframes</UnorderedListItem>
                        <UnorderedListItem>Mockups</UnorderedListItem>
                        <UnorderedListItem>Prototypes</UnorderedListItem>
                    </UnorderedList>
                </StepPanel>
                <StepPanel Name="develop">
                    <H4 TextColor="TextColor.Success">Development Phase</H4>
                    <Paragraph>Implement the design into working code.</Paragraph>
                    <UnorderedList>
                        <UnorderedListItem>Frontend Development</UnorderedListItem>
                        <UnorderedListItem>Backend Development</UnorderedListItem>
                        <UnorderedListItem>Database Design</UnorderedListItem>
                    </UnorderedList>
                </StepPanel>
                <StepPanel Name="test">
                    <H4 TextColor="TextColor.Warning">Testing Phase</H4>
                    <Paragraph>Test the application for bugs and performance.</Paragraph>
                    <UnorderedList>
                        <UnorderedListItem>Unit Testing</UnorderedListItem>
                        <UnorderedListItem>Integration Testing</UnorderedListItem>
                        <UnorderedListItem>User Acceptance Testing</UnorderedListItem>
                    </UnorderedList>
                </StepPanel>
                <StepPanel Name="deploy">
                    <H4 TextColor="TextColor.Info">Deployment Phase</H4>
                    <Paragraph>Deploy the application to production.</Paragraph>
                    <UnorderedList>
                        <UnorderedListItem>Production Setup</UnorderedListItem>
                        <UnorderedListItem>Monitoring</UnorderedListItem>
                        <UnorderedListItem>Documentation</UnorderedListItem>
                    </UnorderedList>
                </StepPanel>
            </StepContent>
        </Steps>

        <Div Margin="Margin.Is3.FromTop">
            <Button BackgroundColor="@BackgroundColor.Primary" OnClick="PreviousStyledStep">Previous</Button>
            <Button BackgroundColor="@BackgroundColor.Success" OnClick="NextStyledStep" Margin="Margin.Is2.FromStart">Next</Button>
            <Text Margin="Margin.Is3.FromStart">Current Phase: @_currentStyledStep</Text>
        </Div>
    </Div>
</Div>

<Hr/>

<Div>
    <H2>Steps with Navigation</H2>
    <Div Margin="Margin.Is3.FromEnd">
        <Steps @ref="_navigationStepsRef" @bind-SelectedStep="_currentNavigationStep">
            <Step Name="account">
                <StepMarker>
                    <Span>1</Span>
                </StepMarker>
                <StepCaption>
                    <Div Class="step-title">Create Account</Div>
                </StepCaption>
            </Step>
            <Step Name="profile">
                <StepMarker>
                    <Span>2</Span>
                </StepMarker>
                <StepCaption>
                    <Div Class="step-title">Profile Setup</Div>
                </StepCaption>
            </Step>
            <Step Name="preferences">
                <StepMarker>
                    <Span>3</Span>
                </StepMarker>
                <StepCaption>
                    <Div Class="step-title">Preferences</Div>
                </StepCaption>
            </Step>

            <StepContent>
                <StepPanel Name="account">
                    <H4>Account Creation</H4>
                    <Paragraph>Create your account to get started.</Paragraph>
                    <Div Margin="Margin.Is3.FromBottom">
                        <Label For="username" Form="true">Username</Label>
                        <TextEdit Id="username" @bind-Value="_accountInfo.Username"/>
                    </Div>
                    <Div Margin="Margin.Is3.FromBottom">
                        <Label For="password" Form="true">Password</Label>
                        <TextEdit Id="password" Type="password" @bind-Value="_accountInfo.Password"/>
                    </Div>
                </StepPanel>
                <StepPanel Name="profile">
                    <H4>Profile Information</H4>
                    <Paragraph>Tell us about yourself.</Paragraph>
                    <Div Margin="Margin.Is3.FromBottom">
                        <Label For="bio" Form="true">Bio</Label>
                        <MemoEdit Id="bio" @bind-Value="_accountInfo.Bio" Rows="3"/>
                    </Div>
                    <Div Margin="Margin.Is3.FromBottom">
                        <Label For="website" Form="true">Website</Label>
                        <TextEdit Id="website" Type="url" @bind-Value="_accountInfo.Website"/>
                    </Div>
                </StepPanel>
                <StepPanel Name="preferences">
                    <H4>Account Preferences</H4>
                    <Paragraph>Configure your account preferences.</Paragraph>
                    <Div Margin="Margin.Is3.FromBottom">
                        <Check @bind-Checked="_accountInfo.EmailNotifications"/> Email Notifications
                    </Div>
                    <Div Margin="Margin.Is3.FromBottom">
                        <Check @bind-Checked="_accountInfo.SmsNotifications"/> SMS Notifications
                    </Div>
                    <Div Margin="Margin.Is3.FromBottom">
                        <Label For="language" Form="true">Language</Label>
                        <Select Id="language" @bind-SelectedValue="_accountInfo.Language">
                            <SelectItem Value="@("english")">English</SelectItem>
                            <SelectItem Value="@("spanish")">Spanish</SelectItem>
                            <SelectItem Value="@("french")">French</SelectItem>
                        </Select>
                    </Div>
                </StepPanel>
            </StepContent>
        </Steps>

        <Div Margin="Margin.Is3.FromTop">
            <Button BackgroundColor="@BackgroundColor.Secondary" OnClick="PreviousNavigationStep">Previous</Button>
            <Button BackgroundColor="@BackgroundColor.Primary" OnClick="NextNavigationStep" Margin="Margin.Is2.FromStart">Next</Button>
            <Button BackgroundColor="@BackgroundColor.Success" OnClick="CompleteSetup" Margin="Margin.Is2.FromStart">Complete Setup</Button>
        </Div>
    </Div>
</Div>

<Hr/>

<Div>
    <H2>Steps Component Properties</H2>
    <Div BackgroundColor="BackgroundColor.Light" Padding="Padding.Is3" Margin="Margin.Is3.FromBottom">
        <H3>Steps Features</H3>
        <Paragraph>Steps components provide guided workflow functionality:</Paragraph>
        <UnorderedList>
            <UnorderedListItem><Strong>Steps:</Strong> Main container for the step workflow</UnorderedListItem>
            <UnorderedListItem><Strong>Step:</Strong> Individual step with title and content</UnorderedListItem>
            <UnorderedListItem><Strong>StepContent:</Strong> Content area within each step</UnorderedListItem>
            <UnorderedListItem><Strong>StepPanel:</Strong> Panel wrapper for step content</UnorderedListItem>
            <UnorderedListItem><Strong>Navigation:</Strong> Built-in navigation between steps</UnorderedListItem>
            <UnorderedListItem><Strong>Validation:</Strong> Support for step validation</UnorderedListItem>
            <UnorderedListItem><Strong>Customization:</Strong> Custom styling and behavior</UnorderedListItem>
            <UnorderedListItem><Strong>Events:</Strong> Step change and completion events</UnorderedListItem>
        </UnorderedList>
    </Div>
</Div>
</Column>
</Row>
</Container>

@code {
    private Steps? _basicStepsRef;
    private Steps? _validationStepsRef;
    private Steps? _styledStepsRef;
    private Steps? _navigationStepsRef;

    private string _currentStep = "step1";
    private string _currentValidationStep = "personal";
    private string _currentStyledStep = "design";
    private string _currentNavigationStep = "account";

    private PersonalInfo _personalInfo = new();
    private AccountInfo _accountInfo = new();

    private async Task NextStep(MouseEventArgs e)
    {
        if (_basicStepsRef != null)
        {
            await _basicStepsRef.NextStep();
        }
    }

    private async Task PreviousStep(MouseEventArgs e)
    {
        if (_basicStepsRef != null)
        {
            await _basicStepsRef.PreviousStep();
        }
    }

    private async Task NextValidationStep(MouseEventArgs e)
    {
        if (_validationStepsRef != null)
        {
            await _validationStepsRef.NextStep();
        }
    }

    private async Task PreviousValidationStep(MouseEventArgs e)
    {
        if (_validationStepsRef != null)
        {
            await _validationStepsRef.PreviousStep();
        }
    }

    private async Task NextStyledStep(MouseEventArgs e)
    {
        if (_styledStepsRef != null)
        {
            await _styledStepsRef.NextStep();
        }
    }

    private async Task PreviousStyledStep(MouseEventArgs e)
    {
        if (_styledStepsRef != null)
        {
            await _styledStepsRef.PreviousStep();
        }
    }

    private async Task NextNavigationStep(MouseEventArgs e)
    {
        if (_navigationStepsRef != null)
        {
            await _navigationStepsRef.NextStep();
        }
    }

    private async Task PreviousNavigationStep(MouseEventArgs e)
    {
        if (_navigationStepsRef != null)
        {
            await _navigationStepsRef.PreviousStep();
        }
    }

    private void SubmitForm(MouseEventArgs e)
    {
        // Handle form submission
        StateHasChanged();
    }

    private void CompleteSetup(MouseEventArgs e)
    {
        // Handle account setup completion
        StateHasChanged();
    }

    public class PersonalInfo
    {
        public string FirstName { get; set; } = string.Empty;
        public string LastName { get; set; } = string.Empty;
        public string Email { get; set; } = string.Empty;
        public string Phone { get; set; } = string.Empty;
    }

    public class AccountInfo
    {
        public string Username { get; set; } = string.Empty;
        public string Password { get; set; } = string.Empty;
        public string Bio { get; set; } = string.Empty;
        public string Website { get; set; } = string.Empty;
        public bool EmailNotifications { get; set; } = true;
        public bool SmsNotifications { get; set; } = false;
        public string Language { get; set; } = "en";
    }

    protected override void OnInitialized()
    {
    }

}