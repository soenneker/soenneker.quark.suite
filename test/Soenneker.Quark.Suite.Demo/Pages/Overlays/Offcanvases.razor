@page "/overlays/offcanvas"

<PageTitle>Offcanvas - Quark Suite</PageTitle>

<Div Class="space-y-8 max-w-4xl">
    <Div Class="space-y-3">
        <H1 Class="text-4xl font-bold tracking-tight">Offcanvas</H1>
        <Paragraph Class="text-xl text-muted-foreground" Margin="Margin.Is0">
            Slide-in panels for navigation, filters, or supplemental content.
        </Paragraph>
    </Div>

    <Section Class="space-y-6">
        <H2 Class="text-2xl font-semibold tracking-tight">Placements</H2>
        <Div Class="flex flex-wrap gap-2">
            <Button BackgroundColor="BackgroundColor.Primary" OnClick="@(() => _startOffcanvasRef?.Show())">Start</Button>
            <Button BackgroundColor="BackgroundColor.Success" OnClick="@(() => _endOffcanvasRef?.Show())">End</Button>
            <Button BackgroundColor="BackgroundColor.Info" OnClick="@(() => _topOffcanvasRef?.Show())">Top</Button>
            <Button BackgroundColor="BackgroundColor.Warning" OnClick="@(() => _bottomOffcanvasRef?.Show())">Bottom</Button>
        </Div>
    </Section>

    <Section Class="space-y-6">
        <H2 Class="text-2xl font-semibold tracking-tight">Options</H2>
        <Div Class="flex flex-wrap gap-2">
            <Button BackgroundColor="BackgroundColor.Secondary" OnClick="@(() => _noBackdropOffcanvasRef?.Show())">No Backdrop</Button>
            <Button BackgroundColor="BackgroundColor.Dark" OnClick="@(() => _scrollableOffcanvasRef?.Show())">Scrollable</Button>
        </Div>
    </Section>

    <Section Class="space-y-6">
        <H2 Class="text-2xl font-semibold tracking-tight">Code</H2>
        <CodeEditor ReadOnly="true" Language="html" AutoHeight="true" Text="@(@"<Button OnClick=""@(() => offcanvasRef?.Show())"">Show</Button>
<Offcanvas @ref=""offcanvasRef"" Placement=""PlacementType.Start"">
    <OffcanvasHeader Title=""Title"" ShowCloseButton=""true""/>
    <OffcanvasBody><Paragraph>Content...</Paragraph></OffcanvasBody>
</Offcanvas>")"/>
    </Section>
</Div>

<Offcanvas @ref="_startOffcanvasRef" Placement="@PlacementType.Start" ShowBackdrop="true">
    <OffcanvasHeader Title="Start Offcanvas" ShowCloseButton="true"/>
    <OffcanvasBody>
        <Paragraph Margin="Margin.Is0">Slides in from the left. Close via X, backdrop, or ESC.</Paragraph>
        <H6 Class="font-semibold mt-2">Features:</H6>
        <UnorderedList Class="list-disc pl-4 space-y-1">
            <UnorderedListItem>Left placement</UnorderedListItem>
            <UnorderedListItem>Backdrop</UnorderedListItem>
            <UnorderedListItem>Click outside to close</UnorderedListItem>
        </UnorderedList>
        <Button Variant="ButtonVariant.Default" OnClick="@(() => _startOffcanvasRef?.Hide())" Class="mt-4">Close</Button>
    </OffcanvasBody>
</Offcanvas>

<Offcanvas @ref="_endOffcanvasRef" Placement="@PlacementType.End" ShowBackdrop="true">
    <OffcanvasHeader Title="End Offcanvas" ShowCloseButton="true"/>
    <OffcanvasBody>
        <Paragraph Margin="Margin.Is0">Slides in from the right. Default placement.</Paragraph>
        <Button Variant="ButtonVariant.Default" OnClick="@(() => _endOffcanvasRef?.Hide())" Class="mt-4">Close</Button>
    </OffcanvasBody>
</Offcanvas>

<Offcanvas @ref="_topOffcanvasRef" Placement="@PlacementType.Top" ShowBackdrop="true">
    <OffcanvasHeader Title="Top Offcanvas" ShowCloseButton="true"/>
    <OffcanvasBody>
        <Paragraph Margin="Margin.Is0">Slides in from the top. Great for notifications.</Paragraph>
        <Button Variant="ButtonVariant.Default" OnClick="@(() => _topOffcanvasRef?.Hide())" Class="mt-4">Close</Button>
    </OffcanvasBody>
</Offcanvas>

<Offcanvas @ref="_bottomOffcanvasRef" Placement="@PlacementType.Bottom" ShowBackdrop="true">
    <OffcanvasHeader Title="Bottom Offcanvas" ShowCloseButton="true"/>
    <OffcanvasBody>
        <Paragraph Margin="Margin.Is0">Slides in from the bottom. Mobile-friendly.</Paragraph>
        <Button Variant="ButtonVariant.Default" OnClick="@(() => _bottomOffcanvasRef?.Hide())" Class="mt-4">Close</Button>
    </OffcanvasBody>
</Offcanvas>

<Offcanvas @ref="_noBackdropOffcanvasRef" Placement="@PlacementType.End" ShowBackdrop="false">
    <OffcanvasHeader Title="No Backdrop" ShowCloseButton="true"/>
    <OffcanvasBody>
        <Paragraph Margin="Margin.Is0">No backdrop â€” page remains interactive. Must use close button.</Paragraph>
        <Button Variant="ButtonVariant.Default" OnClick="@(() => _noBackdropOffcanvasRef?.Hide())" Class="mt-4">Close</Button>
    </OffcanvasBody>
</Offcanvas>

<Offcanvas @ref="_scrollableOffcanvasRef" Placement="@PlacementType.End" ShowBackdrop="true">
    <OffcanvasHeader Title="Scrollable" ShowCloseButton="true"/>
    <OffcanvasBody>
        <Paragraph Margin="Margin.Is0">Content overflows become scrollable.</Paragraph>
        @for (var i = 1; i <= 30; i++)
        {
            <Paragraph Margin="Margin.Is0">Line @i</Paragraph>
        }
        <Button Variant="ButtonVariant.Default" OnClick="@(() => _scrollableOffcanvasRef?.Hide())" Class="mt-4">Close</Button>
    </OffcanvasBody>
</Offcanvas>

@code {
    private Offcanvas? _startOffcanvasRef;
    private Offcanvas? _endOffcanvasRef;
    private Offcanvas? _topOffcanvasRef;
    private Offcanvas? _bottomOffcanvasRef;
    private Offcanvas? _noBackdropOffcanvasRef;
    private Offcanvas? _scrollableOffcanvasRef;
}
