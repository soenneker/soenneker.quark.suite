@page "/overlays/modals"

<PageTitle>Modals - Quark Suite</PageTitle>

<Div Class="space-y-8 max-w-4xl">
    <Div Class="space-y-3">
        <H1 Class="text-4xl font-bold tracking-tight">Modals</H1>
        <Paragraph Class="text-xl text-muted-foreground" Margin="Margin.Is0">
            Dialog overlays for forms, confirmations, and supplemental content.
        </Paragraph>
    </Div>

    <section class="space-y-4">
        <DemoSection Title="Examples" Description="Click a button to open each modal variant. Close via X, backdrop click, or ESC.">
            <Div Class="flex flex-wrap gap-2">
            <Button BackgroundColor="BackgroundColor.Primary" OnClick="@(() => _showBasicModal = true)">Basic</Button>
            <Button BackgroundColor="BackgroundColor.Success" OnClick="@(() => _showLargeModal = true)">Large</Button>
            <Button BackgroundColor="BackgroundColor.Info" OnClick="@(() => _showCenteredModal = true)">Centered</Button>
            <Button BackgroundColor="BackgroundColor.Warning" OnClick="@(() => _showStaticModal = true)">Static Backdrop</Button>
            <Button BackgroundColor="BackgroundColor.Secondary" OnClick="@(() => _showScrollableModal = true)">Scrollable</Button>
            <Button BackgroundColor="BackgroundColor.Dark" OnClick="@(() => _showNewComponentsModal = true)">New Components</Button>
            </Div>
        </DemoSection>

        <DemoSection Title="Usage" Description="Bind Visible and use ModalHeader, ModalBody, ModalFooter.">
            <CodeEditor ReadOnly="true" Language="html" AutoHeight="true" Text="@(@"<Button OnClick=""@(() => show = true)"">Show Modal</Button>
<Modal @bind-Visible=""show"">
    <ModalHeader><ModalTitle>Title</ModalTitle><ModalCloseButton/></ModalHeader>
    <ModalBody><Paragraph>Content...</Paragraph></ModalBody>
    <ModalFooter>
        <Button OnClick=""@(() => show = false)"">Close</Button>
        <Button BackgroundColor=""BackgroundColor.Primary"">Save</Button>
    </ModalFooter>
</Modal>")"/>
        </DemoSection>
    </section>
</Div>

<Modal @bind-Visible="_showBasicModal">
    <ModalHeader>
        <ModalTitle Scale="@Scale.Is5">Basic Modal</ModalTitle>
        <ModalCloseButton/>
    </ModalHeader>
    <ModalBody>
        <Paragraph>Close via X, backdrop, or ESC.</Paragraph>
    </ModalBody>
    <ModalFooter>
        <Button Type="@ButtonType.Button" BackgroundColor="BackgroundColor.Secondary" OnClick="@(() => _showBasicModal = false)">Close</Button>
        <Button Type="@ButtonType.Button" BackgroundColor="BackgroundColor.Primary" OnClick="@(() => _showBasicModal = false)">Save</Button>
    </ModalFooter>
</Modal>

<Modal @bind-Visible="_showLargeModal" ModalSize="@ModalSizeType.Large">
    <ModalHeader>
        <ModalTitle Scale="@Scale.Is4">Large Modal</ModalTitle>
        <ModalCloseButton/>
    </ModalHeader>
    <ModalBody>
        <Paragraph>More width for content.</Paragraph>
        <Div Class="grid gap-4 md:grid-cols-2 mt-4">
            <Div><H5>Column 1</H5><Paragraph Margin="Margin.Is0">Content 1</Paragraph></Div>
            <Div><H5>Column 2</H5><Paragraph Margin="Margin.Is0">Content 2</Paragraph></Div>
        </Div>
    </ModalBody>
    <ModalFooter>
        <Button Type="@ButtonType.Button" BackgroundColor="BackgroundColor.Secondary" OnClick="@(() => _showLargeModal = false)">Close</Button>
        <Button Type="@ButtonType.Button" BackgroundColor="BackgroundColor.Primary" OnClick="@(() => _showLargeModal = false)">Save</Button>
    </ModalFooter>
</Modal>

<Modal @bind-Visible="_showCenteredModal" Centered="true">
    <ModalHeader>
        <ModalTitle Scale="@Scale.Is5">Centered Modal</ModalTitle>
        <ModalCloseButton/>
    </ModalHeader>
    <ModalBody>
        <Paragraph>Vertically centered on the page.</Paragraph>
    </ModalBody>
    <ModalFooter>
        <Button Type="@ButtonType.Button" BackgroundColor="BackgroundColor.Secondary" OnClick="@(() => _showCenteredModal = false)">Close</Button>
        <Button Type="@ButtonType.Button" BackgroundColor="BackgroundColor.Primary" OnClick="@(() => _showCenteredModal = false)">Save</Button>
    </ModalFooter>
</Modal>

<Modal @bind-Visible="_showStaticModal" Static="true">
    <ModalHeader>
        <ModalTitle Scale="@Scale.Is5">Static Backdrop</ModalTitle>
        <ModalCloseButton/>
    </ModalHeader>
    <ModalBody>
        <Paragraph>Cannot close by clicking outside â€” use close button.</Paragraph>
    </ModalBody>
    <ModalFooter>
        <Button Type="@ButtonType.Button" BackgroundColor="BackgroundColor.Secondary" OnClick="@(() => _showStaticModal = false)">Close</Button>
        <Button Type="@ButtonType.Button" BackgroundColor="BackgroundColor.Primary" OnClick="@(() => _showStaticModal = false)">Save</Button>
    </ModalFooter>
</Modal>

<Modal @bind-Visible="_showScrollableModal" Scrollable="true">
    <ModalHeader>
        <ModalTitle Scale="@Scale.Is5">Scrollable Modal</ModalTitle>
        <ModalCloseButton/>
    </ModalHeader>
    <ModalBody>
        @for (var i = 1; i <= 50; i++)
        {
            <Paragraph>Line @i</Paragraph>
        }
    </ModalBody>
    <ModalFooter>
        <Button Type="@ButtonType.Button" BackgroundColor="BackgroundColor.Secondary" OnClick="@(() => _showScrollableModal = false)">Close</Button>
        <Button Type="@ButtonType.Button" BackgroundColor="BackgroundColor.Primary" OnClick="@(() => _showScrollableModal = false)">Save</Button>
    </ModalFooter>
</Modal>

<Modal @bind-Visible="_showNewComponentsModal" ModalSize="@ModalSizeType.Large">
    <ModalHeader>
        <ModalTitle Scale="@Scale.Is3">New Components</ModalTitle>
        <ModalCloseButton/>
    </ModalHeader>
    <ModalBody>
        <Paragraph Margin="Margin.Is0">Separate <Code Inline="true">ModalTitle</Code> and <Code Inline="true">ModalCloseButton</Code> components.</Paragraph>
        <UnorderedList>
            <UnorderedListItem><Strong>ModalTitle:</Strong> Configurable heading size</UnorderedListItem>
            <UnorderedListItem><Strong>ModalCloseButton:</Strong> Auto-detects parent modal</UnorderedListItem>
        </UnorderedList>
    </ModalBody>
    <ModalFooter>
        <Button Type="@ButtonType.Button" BackgroundColor="BackgroundColor.Secondary" OnClick="@(() => _showNewComponentsModal = false)">Close</Button>
        <Button Type="@ButtonType.Button" BackgroundColor="BackgroundColor.Primary" OnClick="@(() => _showNewComponentsModal = false)">Got it!</Button>
    </ModalFooter>
</Modal>

@code {
    private bool _showBasicModal;
    private bool _showLargeModal;
    private bool _showCenteredModal;
    private bool _showStaticModal;
    private bool _showScrollableModal;
    private bool _showNewComponentsModal;
}
