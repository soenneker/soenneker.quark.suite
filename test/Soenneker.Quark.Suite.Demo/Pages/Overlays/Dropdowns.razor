@page "/overlays/dropdowns"

<PageTitle>Dropdowns - Quark Suite</PageTitle>

<Div Class="space-y-8 max-w-4xl">
    <Div Class="space-y-6">
        <section class="space-y-4">
        <DemoSection Title="Basic" Description="DropdownToggle opens DropdownMenu with DropdownItem entries." Code="@(@"<Dropdown>
    <DropdownToggle>Dropdown button</DropdownToggle>
    <DropdownMenu>
        <DropdownItem>Action</DropdownItem>
        <DropdownItem>Another action</DropdownItem>
    </DropdownMenu>
</Dropdown>")">
            <Dropdown>
                <DropdownToggle>Dropdown button</DropdownToggle>
                <DropdownMenu>
                    <DropdownItem>Action</DropdownItem>
                    <DropdownItem>Another action</DropdownItem>
                    <DropdownItem>Something else here</DropdownItem>
                </DropdownMenu>
            </Dropdown>
        </DemoSection>
        </section>

        <section class="space-y-4">
        <Div Class="flex flex-wrap gap-6">
            <DemoSection Title="Links" Description="Use IsLink=true and Href for anchor items.">
                <Dropdown>
                    <DropdownToggle>Dropdown with Links</DropdownToggle>
                    <DropdownMenu>
                        <DropdownItem Href="#" IsLink="true">Action</DropdownItem>
                        <DropdownItem Href="#" IsLink="true">Another action</DropdownItem>
                        <DropdownDivider/>
                        <DropdownItem Href="#" IsLink="true">Separated link</DropdownItem>
                    </DropdownMenu>
                </Dropdown>
            </DemoSection>
            <DemoSection Title="Right-aligned" Description="Set RightAligned=true to align menu to the right edge.">
                <Dropdown RightAligned="true">
                    <DropdownToggle>Right-aligned</DropdownToggle>
                    <DropdownMenu>
                        <DropdownItem>Action</DropdownItem>
                        <DropdownItem>Another action</DropdownItem>
                    </DropdownMenu>
                </Dropdown>
            </DemoSection>
        </Div>
        </section>

        <section class="space-y-4">
        <DemoSection Title="Split button" Description="Use IsGroup=true with a Button and DropdownToggle IsSplit=true.">
            <Dropdown IsGroup="true">
                <Button Type="@ButtonType.Button" Variant="ButtonVariant.Default">Split button</Button>
                <DropdownToggle IsSplit="true">
                    <Span Class="sr-only">Toggle Dropdown</Span>
                </DropdownToggle>
                <DropdownMenu>
                    <DropdownItem>Action</DropdownItem>
                    <DropdownItem>Another action</DropdownItem>
                    <DropdownDivider/>
                    <DropdownItem>Separated link</DropdownItem>
                </DropdownMenu>
            </Dropdown>
        </DemoSection>
        </section>

        <section class="space-y-4">
        <Div Class="flex flex-wrap gap-6">
            <DemoSection Title="Active item" Description="Set Active=true on the selected DropdownItem.">
                <Dropdown>
                    <DropdownToggle>With Active</DropdownToggle>
                    <DropdownMenu>
                        <DropdownItem>Regular</DropdownItem>
                        <DropdownItem Active="true">Active item</DropdownItem>
                        <DropdownItem>Another</DropdownItem>
                    </DropdownMenu>
                </Dropdown>
            </DemoSection>
            <DemoSection Title="Disabled" Description="Set Disabled=true on Dropdown and DropdownToggle to disable opening.">
                <Dropdown Disabled="true">
                    <DropdownToggle Disabled="true">Disabled dropdown</DropdownToggle>
                    <DropdownMenu>
                        <DropdownItem>Won't show</DropdownItem>
                    </DropdownMenu>
                </Dropdown>
            </DemoSection>
        </Div>
        </section>

        <section class="space-y-4">
        <DemoSection Title="Click events" Description="@($"Last clicked: {_lastClicked}")">
            <Dropdown>
                <DropdownToggle Clicked="OnDropdownToggleClicked">Clickable Dropdown</DropdownToggle>
                <DropdownMenu>
                    <DropdownItem Clicked="OnItemClicked">Click me!</DropdownItem>
                    <DropdownItem Clicked="OnItemClicked">Click me too!</DropdownItem>
                </DropdownMenu>
            </Dropdown>
        </DemoSection>
        </section>
    </Div>
</Div>

@code {
    private string _lastClicked = "None";

    private void OnDropdownToggleClicked(MouseEventArgs _) { _lastClicked = "Toggle clicked"; StateHasChanged(); }
    private void OnItemClicked(MouseEventArgs _) { _lastClicked = DateTime.Now.ToString("HH:mm:ss"); StateHasChanged(); }
}
