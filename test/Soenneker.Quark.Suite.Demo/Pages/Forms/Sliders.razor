@page "/forms/sliders"

<Container Padding="Padding.Is4.OnY">
<Row>
    <Column ColumnSize="@ColumnSize.Is12">
        <Div TextAlignment="TextAlignment.Center" Margin="Margin.Is5.FromBottom">
            <H1 DisplaySize="DisplaySize.Is4" FontWeight="FontWeight.Bold" TextColor="TextColor.Primary">Sliders</H1>
            <Paragraph Class="lead" TextColor="TextColor.Muted">This page demonstrates the Quark.Slider component with various configurations and use cases.</Paragraph>
        </Div>
    </Column>
</Row>

<Row Gap="Gap.Is4">
    <Column ColumnSize="@ColumnSize.Is12">
        <Div>
            <H2>ðŸ§ª BINDING TEST SECTION</H2>
            <Alert BackgroundColor="BackgroundColor.Info" Margin="Margin.Is3.FromEnd">
                <Strong>Test Instructions:</Strong> Move sliders below or click "Load Test Data" to verify binding works.
            </Alert>

            <Div Margin="Margin.Is4.FromBottom" Padding="Padding.Is3" BackgroundColor="BackgroundColor.Light" BorderRadius="BorderRadius.Default">
                <H3 Margin="Margin.Is3.FromBottom">Two-Way Binding Test</H3>

                <Div Margin="Margin.Is3.FromBottom">
                    <Label For="testSlider1" Form="true" FontWeight="FontWeight.Bold">Test Slider 1 (0-100):</Label>
                    <Slider @bind-Value="_testSlider1" Min="0" Max="100"/>
                    <Div Margin="Margin.Is2.FromTop" Padding="Padding.Is2" BackgroundColor="BackgroundColor.White" BorderRadius="BorderRadius.Default">
                        <Strong>Bound Value:</Strong> <Code>@_testSlider1.ToString("F1")</Code>
                    </Div>
                </Div>

                <Div Margin="Margin.Is3.FromBottom">
                    <Label For="testSlider2" Form="true" FontWeight="FontWeight.Bold">Test Slider 2 (Pre-set to 75):</Label>
                    <Slider @bind-Value="_testSlider2" Min="0" Max="100"/>
                    <Div Margin="Margin.Is2.FromTop" Padding="Padding.Is2" BackgroundColor="BackgroundColor.White" BorderRadius="BorderRadius.Default">
                        <Strong>Bound Value:</Strong> <Code>@_testSlider2.ToString("F1")</Code>
                    </Div>
                </Div>

                <Div Margin="Margin.Is3.FromTop">
                    <Button BackgroundColor="BackgroundColor.Primary" OnClick="LoadSliderTestData" Margin="Margin.Is2.FromEnd">Load Test Data</Button>
                    <Button BackgroundColor="BackgroundColor.Secondary" OnClick="ClearSliderTestData" Margin="Margin.Is2.FromEnd">Clear Test Data (Set to 0)</Button>
                    <Button BackgroundColor="BackgroundColor.Warning" OnClick="UpdateSliderTestData">Update to Random Values</Button>
                </Div>

                <Div Margin="Margin.Is3.FromTop" Padding="Padding.Is3" BackgroundColor="BackgroundColor.Success" Class="bg-opacity-10 rounded">
                    <H4>Test Results:</H4>
                    <UnorderedList Margin="Margin.Is0.FromBottom">
                        <UnorderedListItem>
                            <Strong>Slider 1:</Strong> @_testSlider1.ToString("F1")
                        </UnorderedListItem>
                        <UnorderedListItem>
                            <Strong>Slider 2:</Strong> @_testSlider2.ToString("F1")
                        </UnorderedListItem>
                    </UnorderedList>
                </Div>
            </Div>

            <Hr/>

            <H2>Basic Slider</H2>
            <Div Margin="Margin.Is3.FromBottom">
                <Slider Value="@_basicValue" OnValueChanged="HandleBasicValueChanged"/>
            </Div>
            <Paragraph TextColor="TextColor.Muted">Current value: <Strong>@_basicValue</Strong></Paragraph>

            <CodeEditor ReadOnly="true" 
                        Language="@("html")" 
                        AutoHeight="true" Margin="Margin.Is3.FromTop"
                        Text="@(@"<Slider Value=""@basicValue"" OnValueChanged=""HandleBasicValueChanged""/>")" />
        </Div>

        <Hr/>

        <Div>
            <H2>Slider with Min and Max</H2>
            <Div Margin="Margin.Is3.FromBottom">
                <Slider Min="0" Max="100" Value="@_minMaxValue" OnValueChanged="HandleMinMaxValueChanged"/>
            </Div>
            <Paragraph TextColor="TextColor.Muted">Current value: <Strong>@_minMaxValue</Strong> (Range: 0-100)</Paragraph>

            <CodeEditor ReadOnly="true" 
                        Language="@("html")" 
                        AutoHeight="true" Margin="Margin.Is3.FromTop"
                        Text="@(@"<Slider Min=""0"" Max=""100"" Value=""@minMaxValue"" OnValueChanged=""HandleMinMaxValueChanged""/>")" />
        </Div>

        <Hr/>

        <Div>
            <H2>Slider with Step</H2>
            <Div Margin="Margin.Is3.FromBottom">
                <Slider Min="0" Max="100" Step="5" Value="@_stepValue" OnValueChanged="HandleStepValueChanged"/>
            </Div>
            <Paragraph TextColor="TextColor.Muted">Current value: <Strong>@_stepValue</Strong> (Step: 5)</Paragraph>
        </Div>

        <Hr/>

        <Div>
            <H2>Slider Sizes</H2>
            <Div Margin="Margin.Is3.FromBottom">
                <H5>Small Size</H5>
                <Slider Min="0" Max="100" Value="@_smallValue" Size="Size.Small" OnValueChanged="HandleSmallValueChanged"/>
                <Paragraph TextColor="TextColor.Muted">Small slider value: <Strong>@_smallValue</Strong></Paragraph>
            </Div>
            <Div Margin="Margin.Is3.FromBottom">
                <H5>Default Size</H5>
                <Slider Min="0" Max="100" Value="@_defaultValue" Size="Size.Default" OnValueChanged="HandleDefaultValueChanged"/>
                <Paragraph TextColor="TextColor.Muted">Default slider value: <Strong>@_defaultValue</Strong></Paragraph>
            </Div>
            <Div Margin="Margin.Is3.FromBottom">
                <H5>Large Size</H5>
                <Slider Min="0" Max="100" Value="@_largeValue" Size="Size.Large" OnValueChanged="HandleLargeValueChanged"/>
                <Paragraph TextColor="TextColor.Muted">Large slider value: <Strong>@_largeValue</Strong></Paragraph>
            </Div>
        </Div>

        <Hr/>

        <Div>
            <H2>Slider Colors</H2>
            <Div Margin="Margin.Is3.FromBottom">
                <H5>Primary Color</H5>
                <Slider Min="0" Max="100" Value="@_primaryValue" Color="Color.Primary" OnValueChanged="HandlePrimaryValueChanged"/>
                <Paragraph TextColor="TextColor.Muted">Primary slider value: <Strong>@_primaryValue</Strong></Paragraph>
            </Div>
            <Div Margin="Margin.Is3.FromBottom">
                <H5>Success Color</H5>
                <Slider Min="0" Max="100" Value="@_successValue" Color="Color.Success" OnValueChanged="HandleSuccessValueChanged"/>
                <Paragraph TextColor="TextColor.Muted">Success slider value: <Strong>@_successValue</Strong></Paragraph>
            </Div>
            <Div Margin="Margin.Is3.FromBottom">
                <H5>Warning Color</H5>
                <Slider Min="0" Max="100" Value="@_warningValue" Color="Color.Warning" OnValueChanged="HandleWarningValueChanged"/>
                <Paragraph TextColor="TextColor.Muted">Warning slider value: <Strong>@_warningValue</Strong></Paragraph>
            </Div>
            <Div Margin="Margin.Is3.FromBottom">
                <H5>Danger Color</H5>
                <Slider Min="0" Max="100" Value="@_dangerValue" Color="Color.Danger" OnValueChanged="HandleDangerValueChanged"/>
                <Paragraph TextColor="TextColor.Muted">Danger slider value: <Strong>@_dangerValue</Strong></Paragraph>
            </Div>
        </Div>

        <Hr/>

        <Div>
            <H2>Disabled Slider</H2>
            <Div Margin="Margin.Is3.FromBottom">
                <Slider Min="0" Max="100" Value="50" Disabled="true"/>
            </Div>
            <Paragraph TextColor="TextColor.Muted">This slider is disabled and cannot be interacted with.</Paragraph>
        </Div>

        <Hr/>

        <Div>
            <H2>Range Slider (Min/Max Values)</H2>
            <Div Margin="Margin.Is3.FromBottom">
                <Slider Min="0" Max="100" Value="@_rangeMin" OnValueChanged="HandleRangeMinChanged"/>
                <Paragraph TextColor="TextColor.Muted">Min value: <Strong>@_rangeMin</Strong></Paragraph>
            </Div>
            <Div Margin="Margin.Is3.FromBottom">
                <Slider Min="0" Max="100" Value="@_rangeMax" OnValueChanged="HandleRangeMaxChanged"/>
                <Paragraph TextColor="TextColor.Muted">Max value: <Strong>@_rangeMax</Strong></Paragraph>
            </Div>
            <Div Margin="Margin.Is3.FromBottom">
                <Paragraph TextColor="TextColor.Muted">Range: <Strong>@_rangeMin</Strong> - <Strong>@_rangeMax</Strong></Paragraph>
            </Div>
        </Div>

        <Hr/>

        <Div>
            <H2>Slider with Labels</H2>
            <Div Margin="Margin.Is3.FromBottom">
                <Div Display="Display.Flex" JustifyContent="JustifyContent.Between" Margin="Margin.Is2.FromBottom">
                    <Span>0</Span>
                    <Span>25</Span>
                    <Span>50</Span>
                    <Span>75</Span>
                    <Span>100</Span>
                </Div>
                <Slider Min="0" Max="100" Value="@_labeledValue" OnValueChanged="HandleLabeledValueChanged"/>
                <Paragraph TextColor="TextColor.Muted">Current value: <Strong>@_labeledValue</Strong></Paragraph>
            </Div>
        </Div>

        <Hr/>

        <Div>
            <H2>Interactive Slider Controls</H2>
            <Div Margin="Margin.Is3.FromBottom">
                <Slider Min="0" Max="100" Value="@_interactiveValue" OnValueChanged="HandleInteractiveValueChanged"/>
            </Div>
            <Div Margin="Margin.Is3.FromBottom">
                <Paragraph TextColor="TextColor.Muted">Current value: <Strong>@_interactiveValue</Strong></Paragraph>
                <Button BackgroundColor="BackgroundColor.Primary" Size="ButtonSize.Sm" OnClick="SetToZero">Set to 0</Button>
                <Button BackgroundColor="BackgroundColor.Secondary" Size="ButtonSize.Sm" OnClick="SetToFifty">Set to 50</Button>
                <Button BackgroundColor="BackgroundColor.Success" Size="ButtonSize.Sm" OnClick="SetToHundred">Set to 100</Button>
                <Button BackgroundColor="BackgroundColor.Info" Size="ButtonSize.Sm" OnClick="SetRandom">Random Value</Button>
            </Div>
        </Div>

        <Hr/>

        <Div>
            <H2>Slider with Custom Attributes</H2>
            <Div Margin="Margin.Is3.FromBottom">
                <Slider Min="0" Max="100" Value="@_customValue"
                        OnValueChanged="HandleCustomValueChanged"
                        Name="customSlider"
                        Id="customSlider"
                        Class="custom-slider"/>
            </Div>
            <Paragraph TextColor="TextColor.Muted">Custom slider value: <Strong>@_customValue</Strong></Paragraph>
        </Div>
    </Column>
</Row>
</Container>

@code {

    // Binding Test Fields
    private double _testSlider1 = 0;
    private double _testSlider2 = 75;

    private double _basicValue = 50;
    private double _minMaxValue = 25;
    private double _stepValue = 30;
    private double _smallValue = 40;
    private double _defaultValue = 60;
    private double _largeValue = 80;
    private double _primaryValue = 35;
    private double _successValue = 65;
    private double _warningValue = 45;
    private double _dangerValue = 75;
    private double _rangeMin = 20;
    private double _rangeMax = 80;
    private double _labeledValue = 50;
    private double _interactiveValue = 25;
    private double _customValue = 55;

    private void LoadSliderTestData()
    {
        _testSlider1 = 50;
        _testSlider2 = 90;
    }

    private void ClearSliderTestData()
    {
        _testSlider1 = 0;
        _testSlider2 = 0;
    }

    private void UpdateSliderTestData()
    {
        var random = new Random();
        _testSlider1 = random.NextDouble() * 100;
        _testSlider2 = random.NextDouble() * 100;
    }

    private async Task HandleBasicValueChanged(double value)
    {
        _basicValue = value;
        StateHasChanged();
        await Task.CompletedTask;
    }

    private async Task HandleMinMaxValueChanged(double value)
    {
        _minMaxValue = value;
        StateHasChanged();
        await Task.CompletedTask;
    }

    private async Task HandleStepValueChanged(double value)
    {
        _stepValue = value;
        StateHasChanged();
        await Task.CompletedTask;
    }

    private async Task HandleSmallValueChanged(double value)
    {
        _smallValue = value;
        StateHasChanged();
        await Task.CompletedTask;
    }

    private async Task HandleDefaultValueChanged(double value)
    {
        _defaultValue = value;
        StateHasChanged();
        await Task.CompletedTask;
    }

    private async Task HandleLargeValueChanged(double value)
    {
        _largeValue = value;
        StateHasChanged();
        await Task.CompletedTask;
    }

    private async Task HandlePrimaryValueChanged(double value)
    {
        _primaryValue = value;
        StateHasChanged();
        await Task.CompletedTask;
    }

    private async Task HandleSuccessValueChanged(double value)
    {
        _successValue = value;
        StateHasChanged();
        await Task.CompletedTask;
    }

    private async Task HandleWarningValueChanged(double value)
    {
        _warningValue = value;
        StateHasChanged();
        await Task.CompletedTask;
    }

    private async Task HandleDangerValueChanged(double value)
    {
        _dangerValue = value;
        StateHasChanged();
        await Task.CompletedTask;
    }

    private async Task HandleRangeMinChanged(double value)
    {
        _rangeMin = value;
        if (_rangeMin > _rangeMax)
        {
            _rangeMax = _rangeMin;
        }

        StateHasChanged();
        await Task.CompletedTask;
    }

    private async Task HandleRangeMaxChanged(double value)
    {
        _rangeMax = value;
        if (_rangeMax < _rangeMin)
        {
            _rangeMin = _rangeMax;
        }

        StateHasChanged();
        await Task.CompletedTask;
    }

    private async Task HandleLabeledValueChanged(double value)
    {
        _labeledValue = value;
        StateHasChanged();
        await Task.CompletedTask;
    }

    private async Task HandleInteractiveValueChanged(double value)
    {
        _interactiveValue = value;
        StateHasChanged();
        await Task.CompletedTask;
    }

    private async Task HandleCustomValueChanged(double value)
    {
        _customValue = value;
        StateHasChanged();
        await Task.CompletedTask;
    }

    private async Task SetToZero()
    {
        _interactiveValue = 0;
        StateHasChanged();
        await Task.CompletedTask;
    }

    private async Task SetToFifty()
    {
        _interactiveValue = 50;
        StateHasChanged();
        await Task.CompletedTask;
    }

    private async Task SetToHundred()
    {
        _interactiveValue = 100;
        StateHasChanged();
        await Task.CompletedTask;
    }

    private async Task SetRandom()
    {
        var random = new Random();
        _interactiveValue = random.Next(0, 101);
        StateHasChanged();
        await Task.CompletedTask;
    }

    protected override void OnInitialized()
    {
    }

}
