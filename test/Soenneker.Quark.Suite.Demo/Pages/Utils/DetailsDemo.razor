@page "/utils/details-demo"

<PageTitle>Details & Summary - Quark Suite</PageTitle>

<Div Class="space-y-8 max-w-4xl">
    <Div Class="space-y-4">
        <DemoSection Title="Basic" Description="Details with Summary; click to expand." Code="@(@"<Details Border=""Border.Is1"" Padding=""Padding.Is3"">
    <Summary FontWeight=""FontWeight.Bold"" Cursor=""Cursor.Pointer"">Click to expand</Summary>
    <Div Margin=""Margin.Is2.FromTop"">
        <Paragraph>Hidden content appears When expanded!</Paragraph>
    </Div>
</Details>")">
            <Details Border="Border.Is1" BorderRadius="BorderRadius.Default" Padding="Padding.Is3" Class="rounded-lg">
                <Summary FontWeight="FontWeight.Bold" Cursor="Cursor.Pointer">Click to expand</Summary>
                <Div Margin="Margin.Is2.FromTop">
                    <Paragraph Margin="Margin.Is0.FromBottom">Hidden content appears When you click. No JavaScript required!</Paragraph>
                </Div>
            </Details>
        </DemoSection>
    </Div>

    <Div Class="space-y-4">
        <DemoSection Title="Open by Default" Description="Open attribute for initially expanded." Code="@(@"<Details Open=""true"" Border=""Border.Is1"" Padding=""Padding.Is3"">
    <Summary FontWeight=""FontWeight.Bold"">Already Expanded</Summary>
    <Div>Content When open.</Div>
</Details>")">
            <Details Open="true" Border="Border.Is1" BorderRadius="BorderRadius.Default" Padding="Padding.Is3" Class="rounded-lg">
                <Summary FontWeight="FontWeight.Bold" Cursor="Cursor.Pointer">Already Expanded</Summary>
                <Div Margin="Margin.Is2.FromTop">
                    <Paragraph Margin="Margin.Is0.FromBottom">The Open attribute makes this start expanded.</Paragraph>
                </Div>
            </Details>
        </DemoSection>
    </Div>

    <Div Class="space-y-4">
        <DemoSection Title="FAQ Example" Description="Common questions with Details.">
        <Div Class="space-y-3">
            <Details Border="Border.Is1" BorderRadius="BorderRadius.Default" Padding="Padding.Is3" Class="rounded-lg">
                <Summary FontWeight="FontWeight.Bold" Cursor="Cursor.Pointer">
                    <Icon Name="circle-question" Margin="Margin.Is2.FromEnd"/>
                    What is Quark Suite?
                </Summary>
                <Div Margin="Margin.Is2.FromTop">
                    <Paragraph Margin="Margin.Is0.FromBottom">A comprehensive Blazor component library built with modern web standards.</Paragraph>
                </Div>
            </Details>
            <Details Border="Border.Is1" BorderRadius="BorderRadius.Default" Padding="Padding.Is3" Class="rounded-lg">
                <Summary FontWeight="FontWeight.Bold" Cursor="Cursor.Pointer">
                    <Icon Name="circle-question" Margin="Margin.Is2.FromEnd"/>
                    Does it support TypeScript?
                </Summary>
                <Div Margin="Margin.Is2.FromTop">
                    <Paragraph Margin="Margin.Is0.FromBottom">Quark is built for Blazor/.NET and uses C#.</Paragraph>
                </Div>
            </Details>
        </Div>
        </DemoSection>
    </Div>

    <Div Class="space-y-4">
        <DemoSection Title="With Events">
            <Div Class="space-y-3">
                @if (!string.IsNullOrEmpty(_toggleStatus))
                {
                    <Alert BackgroundColor="@BackgroundColor.Info">
                        <Icon Name="info-circle" Margin="Margin.Is2.FromEnd"/> @_toggleStatus
                    </Alert>
                }
                <Details OnToggle="HandleToggle" Border="Border.Is1" BorderRadius="BorderRadius.Default" Padding="Padding.Is3" Class="rounded-lg">
                    <Summary FontWeight="FontWeight.Bold" Cursor="Cursor.Pointer">Toggle me to see events</Summary>
                    <Div Margin="Margin.Is2.FromTop">
                        <Paragraph Margin="Margin.Is0.FromBottom">The toggle event fires When opened or closed.</Paragraph>
                    </Div>
                </Details>
            </Div>
        </DemoSection>
    </Div>

    <Div Class="space-y-4">
        <DemoSection Title="Styled Details" Description="Themed borders and backgrounds.">
        <Div Class="grid gap-4 md:grid-cols-2">
            <Details Border="Border.Is1" BorderColor="@BorderColor.Primary" BorderRadius="BorderRadius.Default" Padding="Padding.Is3" BackgroundColor="BackgroundColor.Primary" BackgroundOpacity="BackgroundOpacity.Is10" Class="rounded-lg">
                <Summary FontWeight="FontWeight.Bold" TextColor="TextColor.Primary" Cursor="Cursor.Pointer">
                    <Icon Name="circle-info" Margin="Margin.Is2.FromEnd"/>
                    Primary Style
                </Summary>
                <Div Margin="Margin.Is2.FromTop">
                    <Paragraph Margin="Margin.Is0.FromBottom">Primary color theming.</Paragraph>
                </Div>
            </Details>
            <Details Border="Border.Is1" BorderColor="@BorderColor.Success" BorderRadius="BorderRadius.Default" Padding="Padding.Is3" BackgroundColor="BackgroundColor.Success" BackgroundOpacity="BackgroundOpacity.Is10" Class="rounded-lg">
                <Summary FontWeight="FontWeight.Bold" TextColor="TextColor.Success" Cursor="Cursor.Pointer">
                    <Icon Name="circle-check" Margin="Margin.Is2.FromEnd"/>
                    Success Style
                </Summary>
                <Div Margin="Margin.Is2.FromTop">
                    <Paragraph Margin="Margin.Is0.FromBottom">Success color theming.</Paragraph>
                </Div>
            </Details>
        </Div>
        </DemoSection>
    </Div>

    <Div Class="space-y-4">
        <DemoSection Title="Nested Details">
            <Details Border="Border.Is1" BorderRadius="BorderRadius.Default" Padding="Padding.Is3" Class="rounded-lg">
                <Summary FontWeight="FontWeight.Bold" Cursor="Cursor.Pointer">Parent Level</Summary>
                <Div Margin="Margin.Is2.FromTop">
                    <Paragraph>Parent content.</Paragraph>
                    <Details Border="Border.Is1" BorderRadius="BorderRadius.Default" Padding="Padding.Is3" Margin="Margin.Is3.FromStart" Class="rounded-lg">
                        <Summary FontWeight="FontWeight.Bold" Cursor="Cursor.Pointer">Child Level</Summary>
                        <Div Margin="Margin.Is2.FromTop">
                            <Paragraph Margin="Margin.Is0.FromBottom">Nested disclosure content.</Paragraph>
                        </Div>
                    </Details>
                </Div>
            </Details>
        </DemoSection>
    </Div>

    <Div Class="space-y-4">
        <DemoSection Title="Benefits" Description="Advantages of native Details.">
        <Alert BackgroundColor="@BackgroundColor.Success">
            <Icon Name="circle-check" Margin="Margin.Is2.FromEnd"/>
            <Strong>Advantages:</Strong>
            <UnorderedList Class="mt-2 list-inside list-disc space-y-1">
                <UnorderedListItem>No JavaScript for basic functionality</UnorderedListItem>
                <UnorderedListItem>Built-in keyboard navigation</UnorderedListItem>
                <UnorderedListItem>Excellent screen reader support</UnorderedListItem>
                <UnorderedListItem>Semantic HTML for SEO</UnorderedListItem>
            </UnorderedList>
        </Alert>
        </DemoSection>
    </Div>
</Div>

@code {
    private string? _toggleStatus;
    private int _toggleCount;

    private void HandleToggle(EventArgs args)
    {
        _toggleCount++;
        _toggleStatus = $"Details toggled {_toggleCount} time(s)";
    }
}
