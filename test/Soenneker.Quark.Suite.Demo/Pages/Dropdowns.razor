@page "/dropdowns"
@using Microsoft.Extensions.Logging

@inject ILogger<Index> Logger

<Container Class="py-4">
    <Row>
        <Column>
            <Div Class="text-center" Margin="Margin.Is5.FromEnd">
                <img src="https://user-images.githubusercontent.com/4441470/224455560-91ed3ee7-f510-4041-a8d2-3fc093025112.png" />
                <H1 Class="display-4 fw-bold text-primary">Soenneker.Quark.Dropdowns demo</H1>
                <Paragraph Class="lead text-muted">This page demonstrates the dropdown components functionality.</Paragraph>
            </Div>
        </Column>
    </Row>
    
    <Row Gap="Gap.Is4">
        <Column>
            <Div>

<H2>Basic Dropdown</H2>
<Dropdown>
    <DropdownToggle>
        Dropdown button
    </DropdownToggle>
    <DropdownMenu>
        <DropdownItem>Action</DropdownItem>
        <DropdownItem>Another action</DropdownItem>
        <DropdownItem>Something else here</DropdownItem>
    </DropdownMenu>
</Dropdown>

<Br /><Br />

<H2>Dropdown with Links</H2>
<Dropdown>
    <DropdownToggle>
        Dropdown with Links
    </DropdownToggle>
    <DropdownMenu>
        <DropdownItem Href="#" IsLink="true">Action</DropdownItem>
        <DropdownItem Href="#" IsLink="true">Another action</DropdownItem>
        <DropdownDivider />
        <DropdownItem Href="#" IsLink="true">Something else here</DropdownItem>
    </DropdownMenu>
</Dropdown>

<Br /><Br />

<H2>Right-Aligned Dropdown</H2>
<Dropdown RightAligned="true">
    <DropdownToggle>
        Right-aligned dropdown
    </DropdownToggle>
    <DropdownMenu>
        <DropdownItem>Action</DropdownItem>
        <DropdownItem>Another action</DropdownItem>
        <DropdownItem>Something else here</DropdownItem>
    </DropdownMenu>
</Dropdown>

<Br /><Br />

<H2>Split Button Dropdown</H2>
<Dropdown IsGroup="true">
    <Button Type="@ButtonType.Button" Class="btn btn-primary">Split button</Button>
    <DropdownToggle IsSplit="true">
        <Span Class="visually-hidden">Toggle Dropdown</Span>
    </DropdownToggle>
    <DropdownMenu>
        <DropdownItem>Action</DropdownItem>
        <DropdownItem>Another action</DropdownItem>
        <DropdownItem>Something else here</DropdownItem>
        <DropdownDivider />
        <DropdownItem>Separated link</DropdownItem>
    </DropdownMenu>
</Dropdown>

<Br /><Br />

<H2>Dropdown with Active Item</H2>
<Dropdown>
    <DropdownToggle>
        Dropdown with Active Item
    </DropdownToggle>
    <DropdownMenu>
        <DropdownItem>Regular item</DropdownItem>
        <DropdownItem Active="true">Active item</DropdownItem>
        <DropdownItem>Another regular item</DropdownItem>
    </DropdownMenu>
</Dropdown>

<Br /><Br />

<H2>Disabled Dropdown</H2>
<Dropdown Disabled="true">
    <DropdownToggle Disabled="true">
        Disabled dropdown
    </DropdownToggle>
    <DropdownMenu>
        <DropdownItem>This won't show</DropdownItem>
    </DropdownMenu>
</Dropdown>

<Br /><Br />

<H2>Dropdown with Click Events</H2>
<Dropdown>
    <DropdownToggle Clicked="OnDropdownToggleClicked">
        Clickable Dropdown
    </DropdownToggle>
    <DropdownMenu>
        <DropdownItem Clicked="OnItemClicked">Click me!</DropdownItem>
        <DropdownItem Clicked="OnItemClicked">Click me too!</DropdownItem>
    </DropdownMenu>
</Dropdown>

<Paragraph>Last clicked: @_lastClicked</Paragraph>
            </Div>
        </Column>
    </Row>
</Container>

@code{
    private string _lastClicked = "None";

    protected override void OnInitialized()
    {
    }

    private void OnDropdownToggleClicked(MouseEventArgs e)
    {
        _lastClicked = "Toggle clicked";
        StateHasChanged();
    }

    private void OnItemClicked(MouseEventArgs e)
    {
        _lastClicked = DateTime.Now.ToString("HH:mm:ss");
        StateHasChanged();
    }
}
