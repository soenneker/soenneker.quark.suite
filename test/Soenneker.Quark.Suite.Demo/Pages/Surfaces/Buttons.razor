@page "/surfaces/buttons"

<Container Padding="Padding.Is4.OnY">
    <Row>
        <Column>
            <Div TextAlignment="TextAlignment.Center" Margin="Margin.Is5.FromEnd">
                <H1 DisplaySize="DisplaySize.Is4" FontWeight="FontWeight.Bold" TextColor="TextColor.Primary">Buttons</H1>
                <Paragraph Class="lead" TextColor="TextColor.Muted">This page demonstrates the Quark.Buttons component with various configurations and use cases.</Paragraph>
            </Div>
        </Column>
    </Row>

    <Row Gap="Gap.Is4">
        <Column>
            <Div>
                <H2>Shadcn-style (Variant)</H2>
                <Paragraph TextColor="TextColor.Muted">Use <code>Variant</code> to match <a href="https://ui.shadcn.com/docs/components/base/button" target="_blank" rel="noopener">shadcn/ui button</a> variants. No border on solid variants; outline uses border-input.</Paragraph>
                <Div Class="flex flex-wrap gap-2" Margin="Margin.Is3.FromEnd">
                    <Button Variant="ButtonVariant.Default" OnClick="HandleBasicClick">Default</Button>
                    <Button Variant="ButtonVariant.Secondary" OnClick="HandleBasicClick">Secondary</Button>
                    <Button Variant="ButtonVariant.Destructive" OnClick="HandleBasicClick">Destructive</Button>
                    <Button Variant="ButtonVariant.Outline" OnClick="HandleBasicClick">Outline</Button>
                    <Button Variant="ButtonVariant.Ghost" OnClick="HandleBasicClick">Ghost</Button>
                    <Button Variant="ButtonVariant.Link" OnClick="HandleBasicClick">Link</Button>
                </Div>
            </Div>

            <Hr/>

            <Div>
                <H2>Basic Buttons</H2>
                <Div Class="flex flex-wrap gap-2" Margin="Margin.Is3.FromEnd">
                    <Button Variant="ButtonVariant.Default" OnClick="HandleBasicClick">Primary Button</Button>
                    <Button Variant="ButtonVariant.Secondary" OnClick="HandleBasicClick">Secondary Button</Button>
                    <Button Variant="ButtonVariant.Destructive" OnClick="HandleBasicClick">Danger Button</Button>
                    <Button Variant="ButtonVariant.Outline" OnClick="HandleBasicClick">Outline Button</Button>
                </Div>
                <Paragraph TextColor="TextColor.Muted">These buttons use <code>Variant</code>. Solid fills use theme tokens (primary, secondary, destructive, etc.) with no border.</Paragraph>

                <CodeEditor ReadOnly="true" 
                            Language="@("html")" 
                            AutoHeight="true" Text="@(@"<Button Variant=""ButtonVariant.Default"">Primary Button</Button>
<Button Variant=""ButtonVariant.Secondary"">Secondary Button</Button>
<Button Variant=""ButtonVariant.Destructive"">Danger Button</Button>
<Button Variant=""ButtonVariant.Outline"">Outline Button</Button>")" />
            </Div>

            <Hr/>

            <Div>
                <H2>Button Variants</H2>
                <Div Class="flex flex-wrap gap-2" Margin="Margin.Is3.FromEnd">
                    <Button Variant="ButtonVariant.Default" OnClick="HandleBasicClick">Default</Button>
                    <Button Variant="ButtonVariant.Secondary" OnClick="HandleBasicClick">Secondary</Button>
                    <Button Variant="ButtonVariant.Destructive" OnClick="HandleBasicClick">Destructive</Button>
                    <Button Variant="ButtonVariant.Outline" OnClick="HandleBasicClick">Outline</Button>
                    <Button Variant="ButtonVariant.Ghost" OnClick="HandleBasicClick">Ghost</Button>
                    <Button Variant="ButtonVariant.Link" OnClick="HandleBasicClick">Link</Button>
                </Div>
                <Div Class="flex flex-wrap gap-2" Margin="Margin.Is3.FromEnd">
                    <H4>Variants with Different Sizes</H4>
                    <Button Variant="ButtonVariant.Secondary" Size="ButtonSize.Sm" OnClick="HandleBasicClick">Small Secondary</Button>
                    <Button Variant="ButtonVariant.Destructive" Size="ButtonSize.Lg" OnClick="HandleBasicClick">Large Destructive</Button>
                    <Button Variant="ButtonVariant.Outline" Size="ButtonSize.Lg" OnClick="HandleBasicClick">Large Outline</Button>
                </Div>
            </Div>

            <Hr/>

            <Div>
                <H2>Border Colors</H2>
                <Div Class="flex flex-wrap gap-2" Margin="Margin.Is3.FromEnd">
                    <Button BorderColor="@BorderColor.Primary" Border="Border.Is1" OnClick="HandleBasicClick">Primary Border</Button>
                    <Button BorderColor="@BorderColor.Secondary" Border="Border.Is1" OnClick="HandleBasicClick">Secondary Border</Button>
                    <Button BorderColor="@BorderColor.Success" Border="Border.Is1" OnClick="HandleBasicClick">Success Border</Button>
                    <Button BorderColor="@BorderColor.Danger" Border="Border.Is1" OnClick="HandleBasicClick">Danger Border</Button>
                    <Button BorderColor="@BorderColor.Warning" Border="Border.Is1" OnClick="HandleBasicClick">Warning Border</Button>
                    <Button BorderColor="@BorderColor.Info" Border="Border.Is1" OnClick="HandleBasicClick">Info Border</Button>
                </Div>
                <Div Class="flex flex-wrap gap-2" Margin="Margin.Is3.FromEnd">
                    <H4>Border Colors with Opacity</H4>
                    <Button BorderColor="@BorderColor.Primary.Opacity75" Border="Border.Is2" OnClick="HandleBasicClick">Primary 75%</Button>
                    <Button BorderColor="@BorderColor.Success.Opacity50" Border="Border.Is2" OnClick="HandleBasicClick">Success 50%</Button>
                    <Button BorderColor="@BorderColor.Danger.Opacity25" Border="Border.Is2" OnClick="HandleBasicClick">Danger 25%</Button>
                </Div>
                <Paragraph TextColor="TextColor.Muted">These buttons demonstrate the new BorderColor parameter with various color options and opacity variants.</Paragraph>
            </Div>

            <Hr/>

            <Div>
                <H2>Button Sizes</H2>
                <Div Class="flex flex-wrap gap-2" Margin="Margin.Is3.FromEnd">
                    <Button Variant="ButtonVariant.Default" Size="ButtonSize.Sm" OnClick="HandleBasicClick">Sm</Button>
                    <Button Variant="ButtonVariant.Default" Size="ButtonSize.Default" OnClick="HandleBasicClick">Default</Button>
                    <Button Variant="ButtonVariant.Default" Size="ButtonSize.Lg" OnClick="HandleBasicClick">Lg</Button>
                    <Button Variant="ButtonVariant.Default" Size="ButtonSize.Icon" OnClick="HandleBasicClick" aria-label="Icon button">ðŸ”˜</Button>
                </Div>

                <CodeEditor ReadOnly="true" 
                            Language="@("html")" 
                            AutoHeight="true" Text="@(@"<Button Variant=""ButtonVariant.Default"" Size=""ButtonSize.Sm"">Sm</Button>
<Button Variant=""ButtonVariant.Default"" Size=""ButtonSize.Default"">Default</Button>
<Button Variant=""ButtonVariant.Default"" Size=""ButtonSize.Lg"">Lg</Button>
<Button Variant=""ButtonVariant.Default"" Size=""ButtonSize.Icon"" aria-label=""Icon"">ðŸ”˜</Button>")" />
                <Div Margin="Margin.Is3.FromEnd">
                    <H4>Variants with Sm size</H4>
                    <Button Variant="ButtonVariant.Secondary" Size="ButtonSize.Sm" OnClick="HandleBasicClick">Secondary Sm</Button>
                    <Button Variant="ButtonVariant.Destructive" Size="ButtonSize.Sm" OnClick="HandleBasicClick">Destructive Sm</Button>
                    <Button Variant="ButtonVariant.Outline" Size="ButtonSize.Sm" OnClick="HandleBasicClick">Outline Sm</Button>
                    <Button Variant="ButtonVariant.Ghost" Size="ButtonSize.Sm" OnClick="HandleBasicClick">Ghost Sm</Button>
                </Div>
                <Div Margin="Margin.Is3.FromEnd">
                    <H4>Variants with Lg size</H4>
                    <Button Variant="ButtonVariant.Secondary" Size="ButtonSize.Lg" OnClick="HandleBasicClick">Secondary Lg</Button>
                    <Button Variant="ButtonVariant.Destructive" Size="ButtonSize.Lg" OnClick="HandleBasicClick">Destructive Lg</Button>
                    <Button Variant="ButtonVariant.Outline" Size="ButtonSize.Lg" OnClick="HandleBasicClick">Outline Lg</Button>
                    <Button Variant="ButtonVariant.Ghost" Size="ButtonSize.Lg" OnClick="HandleBasicClick">Ghost Lg</Button>
                </Div>
            </Div>

            <Hr/>

            <Div>
                <H2>Button Types</H2>
                <Div Margin="Margin.Is3.FromEnd">
                    <Button Variant="ButtonVariant.Default" Type="@ButtonType.Link" OnClick="HandleBasicClick">Link Type</Button>
                    <Button Variant="ButtonVariant.Secondary" Type="@ButtonType.Submit" OnClick="HandleBasicClick">Submit Type</Button>
                    <Button Variant="ButtonVariant.Outline" Type="@ButtonType.Reset" OnClick="HandleBasicClick">Reset Type</Button>
                    <Button Variant="ButtonVariant.Ghost" Type="@ButtonType.Button" OnClick="HandleBasicClick">Button Type</Button>
                </Div>
                <Paragraph TextColor="TextColor.Muted">All button types use the Type parameter with ButtonType enum values.</Paragraph>
            </Div>

            <Hr/>

            <Div>
                <H2>Disabled Buttons</H2>
                <Div Margin="Margin.Is3.FromEnd">
                    <Button Variant="ButtonVariant.Default" Disabled>Disabled Default (HTML-style)</Button>
                    <Button Variant="ButtonVariant.Secondary" Disabled="@true">Disabled Secondary (explicit true)</Button>
                    <Button Variant="ButtonVariant.Destructive" Disabled="@false">Enabled Destructive (explicit false)</Button>
                    <Button Variant="ButtonVariant.Outline">Enabled Outline (no disabled attribute)</Button>
                </Div>
            </Div>

            <Hr/>

            <Div>
                <H2>Loading Buttons</H2>
                <Div Margin="Margin.Is3.FromEnd">
                    <Button Variant="ButtonVariant.Default" Loading="_isLoading" OnClick="HandleLoadingClick">
                        Click to Load
                    </Button>
                    <Button Variant="ButtonVariant.Secondary" Loading="_isLoading2" OnClick="HandleLoadingClick2">
                        Process Data
                    </Button>
                    <Button Variant="ButtonVariant.Outline" Loading="_isLoading3" OnClick="HandleLoadingClick3">
                        Custom Loading
                    </Button>
                </Div>
            </Div>

            <Hr/>

            <Div>
                <H2>Button with Custom Loading Template</H2>
                <Div Margin="Margin.Is3.FromEnd">
                    <Button Variant="ButtonVariant.Outline" Loading="_isLoading4" OnClick="HandleLoadingClick4" LoadingTemplate="@CustomLoadingTemplate">
                        Custom Template
                    </Button>
                </Div>
            </Div>

            <Hr/>

            <Div>
                <H2>Button Attributes</H2>
                <Div Margin="Margin.Is3.FromEnd">
                    <Button Variant="ButtonVariant.Default" Name="testButton" Value="testValue" OnClick="HandleBasicClick">Named Button</Button>
                    <Button Variant="ButtonVariant.Secondary" AutoFocus="true" OnClick="HandleBasicClick">Auto Focus</Button>
                </Div>
            </Div>

            <Hr/>

            <Div>
                <H2>Click Events</H2>
                <Div Margin="Margin.Is3.FromEnd">
                    <Button Variant="ButtonVariant.Default" OnClick="HandleClickWithData">Click Counter: @_clickCount</Button>
                    <p class="text-muted">Last clicked at: @_lastClickTime</p>
                </Div>
            </Div>
        </Column>
    </Row>
</Container>

@code {
    private bool _isLoading;
    private bool _isLoading2;
    private bool _isLoading3;
    private bool _isLoading4;
    private int _clickCount;
    private string _lastClickTime = "";

    private RenderFragment CustomLoadingTemplate => @<div>
                                                        <span class="spinner-grow spinner-grow-sm me-2" role="status" aria-hidden="true"></span>
                                                        <span class="text-warning">Custom Loading...</span>
                                                    </Div>;

    private async Task HandleBasicClick(MouseEventArgs args)
    {
        await Task.CompletedTask;
    }

    private async Task HandleLoadingClick(MouseEventArgs args)
    {
        _isLoading = true;
        StateHasChanged();

        // Simulate async operation
        await Task.Delay(3000);

        _isLoading = false;
        StateHasChanged();
    }

    private async Task HandleLoadingClick2(MouseEventArgs args)
    {
        _isLoading2 = true;
        StateHasChanged();

        // Simulate async operation
        await Task.Delay(2000);

        _isLoading2 = false;
        StateHasChanged();
    }

    private async Task HandleLoadingClick3(MouseEventArgs args)
    {
        _isLoading3 = true;
        StateHasChanged();

        // Simulate async operation
        await Task.Delay(2500);

        _isLoading3 = false;
        StateHasChanged();
    }

    private async Task HandleLoadingClick4(MouseEventArgs args)
    {
        _isLoading4 = true;
        StateHasChanged();

        // Simulate async operation
        await Task.Delay(4000);

        _isLoading4 = false;
        StateHasChanged();
    }

    private async Task HandleClickWithData(MouseEventArgs args)
    {
        _clickCount++;
        _lastClickTime = DateTime.Now.ToString("HH:mm:ss");
        await Task.CompletedTask; // Ensure async method completes properly
    }

    protected override void OnInitialized()
    {
    }

}
