@namespace Soenneker.Quark
@inherits Soenneker.Quark.Element
@implements IContainer

<div @attributes="BuildAttributes()">
	@ChildContent
</div>

@code {
	[Parameter]
	public CssValue<ContainerBuilder>? ContainerType { get; set; }

    // shadcn container - new-york-v4 (max-w, mx-auto)
    protected override void BuildAttributesCore(Dictionary<string, object> attributes)
    {
        base.BuildAttributesCore(attributes);
        BuildClassAttribute(attributes, (ref cls) =>
        {
            AppendClass(ref cls, "q-container");
            AppendClass(ref cls, GetContainerClass());
        });
    }

    private string GetContainerClass()
    {
        if (ContainerType is { IsEmpty: false })
        {
            var containerClass = ContainerType.Value.ToString();
            if (containerClass.HasContent())
                return containerClass;
        }
        
        return "w-full max-w-7xl mx-auto px-4";
    }

	protected override void ComputeRenderKeyCore(ref HashCode hc)
	{
		AddIf(ref hc, ContainerType);
	}
}