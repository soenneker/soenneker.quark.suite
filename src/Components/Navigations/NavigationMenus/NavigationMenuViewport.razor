@namespace Soenneker.Quark
@inherits Soenneker.Quark.Element
@implements INavigationMenuViewport

<div @attributes="BuildWrapperAttributes()">
    <div @attributes="BuildAttributes()">
        @ChildContent
    </div>
</div>

@code {
    private static Dictionary<string, object> BuildWrapperAttributes()
    {
        var attributes = new Dictionary<string, object>(1);

        BuildClassAttribute(attributes, (ref PooledStringBuilder cls) =>
        {
            AppendClass(ref cls, "q-navigation-menu-viewport-wrapper absolute top-full left-0 isolate z-50 flex justify-center");
        });

        return attributes;
    }

    protected override void BuildAttributesCore(Dictionary<string, object> attributes)
    {
        base.BuildAttributesCore(attributes);

        attributes["data-slot"] = "navigation-menu-viewport";

        BuildClassAttribute(attributes, (ref PooledStringBuilder cls) =>
        {
            AppendClass(ref cls, "q-navigation-menu-viewport");
            AppendClass(ref cls, "origin-top-center bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out");
            AppendClass(ref cls, "data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90");
            AppendClass(ref cls, "relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border shadow md:w-[var(--radix-navigation-menu-viewport-width)]");
        });
    }
}
